
@{
    ViewBag.Title = "Ventas";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .contenedor {
        width: 100%;
        max-width: 1400px;
        margin: auto;
        padding: 0px;
        background-color: Snow;
        overflow: hidden;
        box-sizing: border-box;
        display:flex;
        flex-wrap:wrap;
    }

    .titulo {
        flex-grow: 1;
        width:100%;
    }

    .cliente {
        background-color: transparent;
        width: 30%;
        padding-right:5px;
    }

    .producto {
        background-color: transparent;
        width:70%;
    }

    .detalle {
        background-color: transparent;
        width: 70%;
    }

    .venta {
        background-color: transparent;
        justify-content: center;
        width: 30%;
        padding-right: 5px;
    }

    .modal-lg {
        max-width: 45% !important;
    }

    @@media screen and (max-width: 1279px) and (min-width:821px) {
        .cliente {
            width: 100% !important;
            margin: 0 15% 0 15%;
            order: 1;
        }

        .producto {
            width: 100% !important;
            order: 2;
        }

        .venta {
            width: 100% !important;
            margin: 0 15% 0 15%;
            order: 4;
        }

        .detalle {
            width: 100% !important;
            order: 3;
        }
    }

    @@media screen and (max-width: 820px) and (min-width:0px) {

        .cliente {
            width: 100% !important;
            order: 1;
        }

        .producto {
            width: 100% !important;
            order:2;
        }

        .venta {
            width: 100% !important;
            order:4;
        }

        .detalle {
            width: 100% !important;
            order:3;
        }
    }
</style>

<div class="contenedor">
    <div class="d-sm-flex align-items-center justify-content-between mb-2 titulo">
        <h2><span class="badge badge-titulo text-black"><i class="fas fa-shopping-cart"></i>&nbsp&nbspVentas</span></h2>
    </div>

    <div class="cliente">
        <div class="card border-secondary mb-3">
            <div class="card-header" style="background-color:darkslategrey;color:white"><i class="fas fa-info-circle"></i> Datos del cliente</div>
            <div class="card-body">
                <div class="form-group row">
                    <div class="col-6">
                        <label for="iptDocumento">Documento / RUC</label>
                        <div class="form-icon-wrapper">
                            <input type="text" class="form-control form-control-sm" id="iptDocumento" placeholder="Ingrese DNI/RUC" autofocus>
                        </div>
                    </div>
                    <div class="col-3">
                        <a href="#" class="btn btn-success btn-sm btn-icon-split transact" id="btnBuscar" onclick="javascipt:return false;">
                            <span class="icon text-white-50">
                                <i class="fas fa-search fa-sm"></i>
                            </span>
                            <span class="text">Buscar</span>
                        </a>
                    </div>
                    <div class="col-3">
                        <a href="#" class="btn btn-primary btn-sm btn-icon-split transact" id="btnAgregar" data-toggle="modal">
                            <span class="icon text-white-50">
                                <i class="fas fa-plus-circle fa-sm"></i>
                            </span>
                            <span class="text">Agregar</span>
                        </a>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-12">
                        <label for="selectCliente">Cliente</label>
                        <div class="">
                            <select id="selectCliente" class="form-control form-control-sm" data-live-search="true">
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-6">
                        <label for="iptPlaca">Placa</label>
                        <div class="form-icon-wrapper">
                            <input type="text" class="form-control form-control-sm" id="iptPlaca" placeholder="Ingrese nro placa">
                        </div>
                    </div>
                    <div class="col-6">
                        <label for="btnLastVentas">Ventas anteriores</label>
                        <div class="form-icon-wrapper">
                            <a href="#" class="btn btn-link btn-sm" id="btnLastVentas" onclick="javascipt:return false;">
                                <span class="icon text-black">
                                    <i class="fas fa-info-circle"></i>
                                </span>
                                <span class="text">Ver Ventas</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="producto">
        <div class="card border-secondary">
            <div class="card-header" style="background-color: darkslategrey; color: white "><i class="fas fa-gifts"></i> Productos</div>
            <div class="form-group row" hidden>
                <div class="col-9">
                    <input type="text" class="form-control form-control-sm" id="description" style="background-color: SteelBlue; color: white"
                           placeholder="Escriba el nombre del producto">
                </div>
                <div class="col-3">
                    <a href="#" class="btn btn-link btn-sm" style="color:coral" id="btnAgregarProducto" onclick="javascipt:return false;">
                        <span class="icon text-warning">
                            <i class="fas fa-shopping-bag"></i>
                        </span>
                        <span class="text" style="color:coral">Agregar Producto</span>
                    </a>
                </div>
            </div>
            <div class="form-check-inline" style="background-color: DodgerBlue; padding-left: 1em !important">
                <label><input class="form-check-input" type="checkbox" value="C00004" id="chkAceite">Aceite</label>
                <label><input class="form-check-input" type="checkbox" value="C00005" id="chkMuelle">Muelles</label>
                <label><input class="form-check-input" type="checkbox" value="C00003" id="chkFiltro">Filtros</label>
                <label><input class="form-check-input" type="checkbox" value="C00002" id="chkFaja">Fajas</label>
                <label><input class="form-check-input" type="checkbox" value="C00006" id="chkAmortiguador">Amortiguadores</label>
                <label><input class="form-check-input" type="checkbox" value="C00007" id="chkBateria">Baterias</label>
                <label><input class="form-check-input" type="checkbox" value="C00008" id="chkRodaje">Rodajes</label>
                <label><input class="form-check-input" type="checkbox" value="C00014" id="chkGeneral">Servicios Generales</label>
                <label><input class="form-check-input" type="checkbox" value="C00010" id="chkManguera">Mangueras</label>
                <label><input class="form-check-input" type="checkbox" value="C00009" id="chkFoco">Focos</label>
                <label><input class="form-check-input" type="checkbox" value="C00011" id="chkPerno">Perno</label>
                <label><input class="form-check-input" type="checkbox" value="C00012" id="chkCruceta">Crucetas</label>
                <label><input class="form-check-input" type="checkbox" value="C00016" id="chkRefrigerante">Refrigerante</label>
                <label><input class="form-check-input" type="checkbox" value="C00017" id="chkLiquidoFreno">Liquido de freno</label>
                <label><input class="form-check-input" type="checkbox" value="C00013" id="chkSoporte">Soporte</label>
                <label><input class="form-check-input" type="checkbox" value="C00015" id="chkAgua">Agua</label>
                <label><input class="form-check-input" type="checkbox" value="C00018" id="chkJebe">Jebes</label>
                <label><input class="form-check-input" type="checkbox" value="C00001" id="chkOtro">Otros</label>
                <a href="#" class="btn btn-link btn-sm" style="color:saddlebrown" id="btnProducto" data-toggle="modal">
                    <span class="icon text-warning">
                        <i class="fas fa-shopping-bag"></i>
                    </span>
                    <span class="text" style="color: saddlebrown">Agregar Producto</span>
                </a>
            </div>
            <div class="table-responsive" id="producto">
                <table id='tblProducto' class='table table-cebra table-hover table-bordered' width="100%">
                    <thead style="background-color: #13213d; color: white; font-size: 11px;">
                        <tr style="font-size: 11px;">
                            <td style='min-width: 5px; text-align: center'>°</td>
                            <td style='min-width: 10px;' hidden>CATEGORIA</td>
                            <td style='min-width: 15px; text-align: center'>CODIGO</td>
                            <td style='min-width: 220px; text-align: center'>DESCRIPCION</td>
                            <td style='min-width: 60px; text-align: center'>MARCA</td>
                            <td style='min-width: 15px; text-align: center'>STOCK</td>
                            <td style='min-width: 15px; text-align: center'>PRECIO</td>
                            <td style='min-width: 15px; text-align: center'>MONEDA</td>
                        </tr>
                    </thead>
                    <tbody style="font-size: 11px">
                    </tbody>
                    <tfoot style="font-size: 7px">
                    </tfoot>
                </table>
            </div>
        </div>
    </div>

    <div class="venta">
        <div class="card border-secondary mb-3">
            <div class="card-header" style="background-color:darkslategrey;color:white"><i class="fas fa-money-check"></i>  Informacion de la venta</div>
            <div class="card-body justify-content-center align-items-center">
                <div class="form-group row">
                    <div class="col-1">
                    </div>
                    <div class="col-5">
                        <label><input class="form-check-input" type="radio" id="contado" checked> CONTADO</label>
                    </div>
                    <div class="col-5">
                        <label><input class="form-check-input" type="radio" id="credito"> CREDITO</label>
                    </div>
                </div>
                <div class="form-group row" id="dCredito" style="background-color:#9370DB; border: 1px solid">
                    <div class="d-flex justify-content-center">
                        <div class="col-6">
                            <label style="text-align:center; margin:5px auto;">Dias de Credito</label>
                        </div>
                        <div class="col-5">
                            <input class="form-control form-control-sm" type="number" id="dias" placeholder="Ingrese N° dias" style="text-align:right;margin:3px auto;">
                        </div>
                    </div>
                    @*<label for="monto">Monto de Credito</label>
                        <input type="number" class="form-control form-control-sm" id="monto" value="0.00" style="text-align:right">*@
                </div>
                <div class="form-group row" hidden>
                    <div class="col-6">
                        <select class="selectpicker form-select form-select-sm" id="selectDescuento">
                            <option value="0" selected>Sin descuento</option>
                            <option value="1">Descuento (importe)</option>
                            <option value="2">Descuento (porcentaje)</option>
                        </select>
                    </div>
                    <div class="col-5">
                        <input type="number" class="descuento form-control form-control-sm" />
                    </div>
                </div>
                <hr>
                <div class="form-group row">
                    <div class="col-1">
                    </div>
                    <div class="col-5">
                        <label for="subTotal">Sub Total</label>
                    </div>
                    <div class="col-5">
                        <input type="number" class="form-control form-control-sm" id="subTotal" value="0.00" readonly style="text-align:right" />
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-1">
                    </div>
                    <div class="col-5">
                        <label for="igv">IGV</label>
                    </div>
                    <div class="col-5">
                        <input type="number" class="form-control form-control-sm" id="igv" value="0.00" readonly style="text-align:right" />
                    </div>
                </div>
                <div class="form-group row rounded" style="background-color:#9ACD32">
                    <div class="col-1">
                    </div>
                    <div class="col-5">
                        <label for="total">Total a Pagar</label>
                    </div>
                    <div class="col-5">
                        <input type="number" class="form-control form-control-sm" id="total" value="0.00" readonly style="text-align: right;background-color:#8FBC8B" />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-6">
                        <a href="#" class="btn btn-danger btn-sm btn-icon-split transact" id="btnCancelar" onclick="javascipt:return false;">
                            <span class="icon text-white-50">
                                <i class="fas fa-trash fa-sm"></i>
                            </span>
                            <span class="text">Cancelar Venta</span>
                        </a>
                    </div>
                    <div class="col-6">
                        <a href="#" class="btn btn-success btn-sm btn-icon-split transact" id="btnGenerar" onclick="javascipt:return false;">
                            <span class="icon text-white-50">
                                <i class="fas fa-save fa-sm"></i>
                            </span>
                            <span class="text">Generar Venta</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="detalle">
        <div class="card border-secondary">
            <div class="card-header" style="background-color: darkslategrey; color: white "><i class="fas fa-object-group"></i> Detalle de la venta</div>
            <div class="table-responsive" id="detalle">
                <table id='tblDetalle' class='table table-cebra table-hover table-bordered' width="100%">
                    <thead style="background-color: #13213d !important; color: white; font-size: 10px;">
                        <tr style="font-size: 11px;">
                            <td style='max-width:30px; min-width:30px;text-align:center'>ITEM</td>
                            <td style='max-width:50px; min-width:50px;text-align:center'>CODIGO</td>
                            <td style='max-width: 250px; min-width: 250px; text-align: center'>PRODUCTO</td>
                            <td style='max-width: 60px; min-width: 60px; text-align: center'>CANTIDAD</td>
                            <td style='max-width: 50px; min-width: 50px; text-align: center' hidden>MONTO</td>
                            <td style='max-width: 60px; min-width: 60px; text-align: center'>PRECIO</td>
                            <td style='max-width: 50px; min-width: 50px; text-align: center'>TOTAL</td>
                        </tr>
                    </thead>
                    <tbody style="font-size: 10px">
                    </tbody>
                    <tfoot style="font-size: 8px">
                        <tr>
                            <td colspan="5">
                                <a href="#" class="btn btn-warning btn-sm btn-icon-split transact" id="btnManual" onclick="javascipt:return false;">
                                    <span class="icon text-white-50">
                                        <i class="fas fa-hand-spock fa-sm"></i>
                                    </span>
                                    <span class="text">Manual</span>
                                </a>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalCliente" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color: darkslategrey; color: white">
                <h5 class="modal-title"><i class="fas fa-user-check"></i> Registrar Cliente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row g-2">
                    <div class="col-sm-12">
                        <label for="txtnombres" class="form-label">Nombres o Razon Social</label>
                        <input type="text" class="form-control form-control-sm" id="txtnombres">
                    </div>
                    <div class="col-sm-6">
                        <label for="txtapellidos" class="form-label">Apellidos</label>
                        <input type="text" class="form-control form-control-sm" id="txtapellidos">
                    </div>
                    <div class="col-sm-6">
                        <label for="txtcelular" class="form-label">Celular</label>
                        <input type="text" class="form-control form-control-sm" id="txtcelular">
                    </div>
                    <div class="col-sm-6">
                        <label for="txtdistrito" class="form-label">Distrito</label>
                        <input type="text" class="form-control form-control-sm" id="txtdistrito">
                    </div>
                    <div class="col-sm-6">
                        <label for="txttelefono" class="form-label">Telefono</label>
                        <input type="text" class="form-control form-control-sm" id="txttelefono">
                    </div>
                    <div class="col-sm-12">
                        <label for="txtdireccion" class="form-label">Direccion</label>
                        <input type="text" class="form-control form-control-sm" id="txtdireccion">
                    </div>
                    <div class="col-sm-12">
                        <label for="txtcorreo" class="form-label">Correo</label>
                        <input type="text" class="form-control form-control-sm" id="txtcorreo">
                    </div>
                    <div class="col-sm-6">
                        <label for="txtdni" class="form-label">DNI</label>
                        <input type="text" class="form-control form-control-sm" id="txtdni">
                    </div>
                    <div class="col-sm-6">
                        <label for="txtruc" class="form-label">RUC</label>
                        <input type="text" class="form-control form-control-sm" id="txtruc">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btnGuardarCliente">Guardar</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalProducto" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header" style="background-color: darkslategrey; color: white">
                <h5 class="modal-title"><i class="fas fa-shopping-cart"></i> Registrar Producto</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="col-md-12 col-sm-12 col-xs-12" style="padding:2px;background-color: #CDDCCC; border: 3px solid #eee ">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group row" style="padding:10px">
                            <div class="col-md-3">
                                <div class="form-group row">
                                    <div class="col-md-12">
                                        <label for="txtCodigoProducto" class="form-label">Codigo:</label>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-12">
                                        <input id="txtCodigoProducto" class="form-control form-control-sm" disabled />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3" style="padding-top:5px">
                                <a href="#" class="btn btn-info btn-lg btn-icon-split" style="font-size:14px" id="btnAgregarMarca">
                                    <span class="icon text-black">
                                        <i class="fas fa-plus-circle fa-sm"></i>
                                    </span>
                                    <span class="text">Agregar Marca</span>
                                </a>
                            </div>
                            <div class="col-md-3" style="padding-top:5px">
                                <a href="#" class="btn btn-info btn-lg btn-icon-split" style="font-size:14px" id="btnAgregarTipo">
                                    <span class="icon text-black">
                                        <i class="fas fa-plus-square fa-sm"></i>
                                    </span>
                                    <span class="text">Agregar Tipo</span>
                                </a>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group row">
                                    <div class="col-md-12">
                                        <label for="selectMoneda" class="form-label">Moneda:</label>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-12">
                                        <select id="selectMoneda" class="form-control form-control-sm" data-live-search="true">
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>                    
                        <div style="padding-bottom:5px;background-color: #f6f9fe">
                            <p style="background-color:lightseagreen"><input class="form-check-input" type="checkbox" value="FN" id="chkFormarNombre"> Formar Nombre</p>
                            <div class="form-group row">
                                <div class="col-md-4">
                                    <label for="selectCategoria" class="form-label">Categoria:</label>
                                </div>
                                <div class="col-md-4">
                                    <label for="selectTipo" class="form-label">Tipo:</label>
                                </div>
                                <div class="col-md-4">
                                    <label for="iptModelo" class="form-label">Modelo:</label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-4">
                                    <select id="selectCategoria" class="form-control form-control-sm" data-live-search="true">
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <select id="selectTipo" class="form-control form-control-sm" data-live-search="true">
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <input type="text" class="form-control form-control-sm" id="iptModelo">
                                </div>
                            </div>
                        </div>                        
                        <div style="padding-bottom:5px;background-color: #f6f9fe">
                            <p style="background-color:lightseagreen"><input class="form-check-input" type="checkbox" value="IN" id="chkIngresarNombre"> Ingresar Nombre</p>
                            <div class="form-group row">
                                <div class="col-md-4">
                                    <label for="iptNombreProducto" class="form-label">Nombre Producto:</label>
                                </div>
                                <div class="col-md-8">
                                    <input type="text" class="form-control form-control-sm" id="iptNombreProducto">
                                </div>
                            </div>
                        </div>
                        <div class="form-group row" style="padding-bottom:10px">
                            <div class="col-md-3">
                                <label class="form-label" for="selectMarca">Marca: </label>
                                <select id="selectMarca" class="form-control form-control-sm" data-live-search="true">
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label" for="iptStock">Stock</label>
                                <input type="number" class="form-control form-control-sm" id="iptStock">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label" for="iptPrecioCompra">Prec. Compra</label>
                                <input type="number" class="form-control form-control-sm" id="iptPrecioCompra">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label" for="iptPrecioVenta">Precio Venta</label>
                                <input type="number" class="form-control form-control-sm" id="iptPrecioVenta">
                            </div>
                        </div>
                        <p class="form-label" style="background-color: mediumseagreen">Unidad de Medida de Venta</p>
                        <div class="form-group row">
                            <div class="col-md-3">
                                <label><input class="form-check-input" type="checkbox" id="chkBalde"> Balde</label>
                                <select id="selectBalde" class="form-control form-control-sm" data-live-search="true">
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label><input class="form-check-input" type="checkbox" id="chkEnvase"> Envase</label>
                                <select id="selectEnvase" class="form-control form-control-sm" data-live-search="true">
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label><input class="form-check-input" type="checkbox" id="chkPaquete"> Paquete</label>
                                <select id="selectPaquete" class="form-control form-control-sm" data-live-search="true">
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label><input class="form-check-input" type="checkbox" id="chkCilindro"> Cilindro</label>
                                <select id="selectCilindro" class="form-control form-control-sm" data-live-search="true">
                                </select>
                            </div>
                        </div>
                        <p class="form-label" style="background-color:mediumseagreen">Unidad de Medida de Compra</p>
                        <div class="form-group row">
                            <div class="col-md-3">
                                <label><input class="form-check-input" type="checkbox" id="chkBalde"> Balde</label>
                                <select id="selectBalde" class="form-control form-control-sm" data-live-search="true">
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label><input class="form-check-input" type="checkbox" id="chkEnvase"> Envase</label>
                                <select id="selectEnvase" class="form-control form-control-sm" data-live-search="true">
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label><input class="form-check-input" type="checkbox" id="chkPaquete"> Paquete</label>
                                <select id="selectPaquete" class="form-control form-control-sm" data-live-search="true">
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label><input class="form-check-input" type="checkbox" id="chkCilindro"> Cilindro</label>
                                <select id="selectCilindro" class="form-control form-control-sm" data-live-search="true">
                                </select>
                            </div>
                        </div>
                    </div>
                </div>                
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btnGuardarProducto">Guardar</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>

</div>

<script src="~/Scripts/View/Venta/Venta.js"></script>

